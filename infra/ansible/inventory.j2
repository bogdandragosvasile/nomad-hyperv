# Ansible inventory for Nomad and Consul cluster
# Generated by Hyper-V VM creation playbook

[consul_servers]
{% for server in consul_servers %}
{{ server.name }} ansible_host={{ server.ip }} ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/id_rsa
{% endfor %}

[nomad_servers]
{% for server in nomad_servers %}
{{ server.name }} ansible_host={{ server.ip }} ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/id_rsa
{% endfor %}

[nomad_clients]
{% for client in nomad_clients %}
{{ client.name }} ansible_host={{ client.ip }} ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/id_rsa
{% endfor %}

[consul:children]
consul_servers

[nomad:children]
nomad_servers
nomad_clients

[all:vars]
ansible_ssh_common_args='-o StrictHostKeyChecking=no'
ansible_python_interpreter=/usr/bin/python3
